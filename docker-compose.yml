services:
    postgres:
        image: postgres:latest
        container_name: postgres_db
        environment:
            POSTGRES_USER: admin
            POSTGRES_PASSWORD: admin
            POSTGRES_DB: postgres
        volumes:
            - ./init.sql:/docker-entrypoint-initdb.d/init.sql
        ports:
            - '5432:5432'

    pgadmin:
        image: dpage/pgadmin4:latest
        container_name: pgadmin_web
        environment:
            PGADMIN_DEFAULT_EMAIL: admin@gmail.com
            PGADMIN_DEFAULT_PASSWORD: admin
        ports:
            - '8080:80'
        depends_on:
            - postgres
        volumes:
            - pgadmin_vol:/var/lib/pgadmin
volumes:
    pgadmin_vol:
        name: pgadmin_vol
